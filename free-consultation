<style>
  .hidden {
    display: none;
  }

  .form-card {
  background: #fff;
  padding: 2px;
  border-radius: 16px;
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.06);
  margin: 16px auto;
  max-width: 700px;
}

  .custom-form-container {
    max-width: 600px;
    margin: 0 auto;
    padding: 0;
    font-family: 'Helvetica Neue', sans-serif;
    color: #333;
  }

  /* Default labels */
  .custom-form-container label {
    font-weight: 500;
    display: block;
    margin-bottom: 4px;
    font-size: 16px;
  }

  .custom-form-container input,
  .custom-form-container select,
  .custom-form-container textarea {
    width: 100%;
    margin-bottom: 12px;
    padding: 10px;
    border-radius: 8px;
    border: 1px solid #ccc;
    font-size: 16px;
    box-sizing: border-box;
  }

  .custom-form-container button {
    background-color: #bd243f;
    color: white;
    padding: 12px;
    font-size: 16px;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    width: 100%;
    margin-top: 10px;
  }

  .form-success-message {
    font-size: 18px;
    font-weight: 500;
    color: #2e7d32;
    background: #e8f5e9;
    border: 1px solid #c8e6c9;
    padding: 20px;
    border-radius: 8px;
    text-align: center;
    margin-top: 30px;
  }

  h2 {
    line-height: 1.4;
  }

  .headline-line {
    display: inline;
  }

  #state-other-input {
    margin-bottom: 12px;
  }



button.loading {
  position: relative;
  pointer-events: none;
  opacity: 0.7;
}

button.loading::after {
  content: "";
  position: absolute;
  right: 16px;
  top: 50%;
  transform: translateY(-50%);
  border: 3px solid #fff;
  border-top: 3px solid #bd243f; /* accent color */
  border-radius: 50%;
  width: 16px;
  height: 16px;
  animation: spin 0.8s linear infinite;
}

@keyframes spin {
  0% { transform: translateY(-50%) rotate(0deg); }
  100% { transform: translateY(-50%) rotate(360deg); }
}




/* MOBILE FRIENDLY ADJUSTMENT */
@media (max-width: 600px) {
  .form-card {
    padding: 10px 10px;
    border-radius: 14px;
  }
    .form-intro-block {
    margin-top: -30px; /* or adjust to -20px, -40px, etc. */
  }
}


@media (min-width: 901px) {
  .form-intro-block {
    text-align: center;
    max-width: 700px;
    margin: 0 auto;
    margin-bottom: 0 !important;
    padding-bottom: 0 !important;
  }
     .form-intro-block p {
    margin-bottom: 8px !important; /* Or reduce more */
  }

  .form-card {
    margin-top: 20px !important; /* Tighten spacing from above */
  }
}


@media (min-width: 700px) {
  .form-intro-block {
    margin-bottom: 0 !important;
  }

  .form-intro-block p {
    margin-bottom: 6px !important;
  }

  .form-card {
    margin-top: 20px !important;
  }
}



  
</style>
















<!-- Combined Intro + Form + What to Expect -->
<div style="max-width: 1200px; margin: 0 auto; padding: 0 20px 0 20px; font-family: 'Helvetica Neue', sans-serif; color: #2e2e2e;">


  <!-- Responsive Flex Layout -->
 <div style="display: flex; flex-wrap: wrap; align-items: stretch; justify-content: center; gap: 20px; padding: 0;">

    
    <!-- Text Block -->
    <div class="form-intro-block" style="flex: 1 1 500px; padding: 0;">
      <h2 style="font-size: 24px; font-weight: 700; margin-bottom: 18px;">
        <span class="headline-line">Explore your options.</span>
        <span class="headline-line">Ask questions.</span>
        <span class="headline-line">No pressure.</span>
      </h2>

      <p style="font-size: 17px; line-height: 1.6; margin-bottom: 14px;">
        Fill out the form below — a provider will reach out <strong>within 24 hours</strong>.
      </p>
      <p style="font-size: 17px; line-height: 1.6;">
        Ready to get started now?  
        <a href="https://www.mtnhlth.com/get-started" style="color: #0066cc; text-decoration: underline; font-weight: 500;">Book your first visit</a> and skip the consult.
      </p>
    </div>


  </div>

  <!-- Consultation Form -->
  <section class="form-section">
  <div class="form-card">
  <div class="custom-form-container" style="padding: 15px 0;">
   <form id="consult-form" action="https://script.google.com/macros/s/AKfycbybNYewl6-wVq88-2aH1MW-xqAQbN1C_c1rBtg0TP3KHXe3znFM58qegN8H8yStTE4n/exec" method="POST">
      <label>Full Name</label>
      <input type="text" name="name" required>

      <label>Email</label>
      <input type="email" name="email" required>

      <label>Phone Number</label>
      <input type="tel" name="phone" required>

      <label>What is your age?</label>
      <input type="number" name="age" required>

<label>What state are you located in?</label>
<select id="state-select" name="state" required>
  <option value="">Select a state</option>
  <option value="Utah">Utah</option>
  <option value="Washington">Washington</option>
  <option value="Other">Other</option>
</select>


<div id="state-other-input" class="hidden">
  <label>Please enter your state</label>
  <input type="text" name="state_other" id="state-other-text">
</div>


      <label>Briefly tell us what you're looking for</label>
      <textarea name="message" rows="4" required></textarea>

      <label>How did you hear about us?</label>
<select id="referral-select" name="referral" required>
  <option value="">Select an option</option>
  <option value="Google">Google</option>
  <option value="Friend/Referral">Friend/Referral</option>
  <option value="Social Media">Social Media</option>
  <option value="Window Sign">Saw our window sign</option>
  <option value="Other">Other</option>
</select>

      <div id="referral-extra" class="hidden">
        <label id="referral-extra-label">Please specify:</label>
        <input type="text" name="referral_detail">
      </div>

      <button type="submit">Submit</button>
    </form>

    <div id="success-message" class="form-success-message hidden">
      ✅ Thank you! Keep an eye out for a text from our medical provider at <strong>(801) 823-4158</strong> — they’ll be reaching out shortly.
    </div>
  </div>
  </div>
  </section>








  <!-- What to Expect Section -->
  <div style="padding: 15px 0;">
    <h2 style="text-align: center; font-size: 30px; font-weight: 700; margin-bottom: 24px;">
      What to Expect
    </h2>
    <p>
      At MTN HLTH, we offer a <strong>free phone consultation</strong> to help you determine if our services align with your health goals. This no-pressure call connects you with a <strong>licensed medical provider</strong> to review your symptoms, health history, and what you’re hoping to achieve.
    </p>
    <p>
      Whether you're interested in <strong>medical weight loss</strong>, <strong>hormone replacement therapy</strong>, or <strong>testosterone optimization</strong>, this conversation helps us understand your goals and explain how our care works. You'll get a feel for our <strong>functional, personalized approach</strong>—centered on real outcomes, <strong>not one-size-fits-all protocols</strong>.
    </p>
    <p>
      Based in <strong>Utah</strong>, MTN HLTH specializes in lifestyle-driven care for both men and women. We combine clinical insight with a whole-person mindset to support long-term results.
    </p>
    <p>
      If you’re ready to move forward, you can skip the consult and 
      <a href="https://www.mtnhlth.com/get-started" style="color: #0066cc; font-weight: 500; text-decoration: underline;">schedule your initial visit now</a>. 
      Your visit includes lab work, a full provider consultation, and a personalized care plan.
    </p>
  </div>
</div>




<script>
  document.addEventListener('DOMContentLoaded', function () {
    const referralSelect = document.getElementById('referral-select');
    const referralExtra = document.getElementById('referral-extra');
    const referralLabel = document.getElementById('referral-extra-label');
    const stateSelect = document.getElementById('state-select');
    const stateOtherInput = document.getElementById('state-other-input');
    const stateOtherText = document.getElementById('state-other-text');
    const form = document.getElementById('consult-form');
    const successMessage = document.getElementById('success-message');
    const phoneInput = document.querySelector('input[name="phone"]');

    // Phone number formatting
    phoneInput.addEventListener('input', function (e) {
      let input = e.target.value.replace(/\D/g, '').substring(0, 10);
      const area = input.substring(0, 3);
      const middle = input.substring(3, 6);
      const last = input.substring(6, 10);
      if (input.length > 6) {
        e.target.value = `(${area}) ${middle}-${last}`;
      } else if (input.length > 3) {
        e.target.value = `(${area}) ${middle}`;
      } else if (input.length > 0) {
        e.target.value = `(${area}`;
      }
    });

    // Referral dropdown logic
    referralSelect.addEventListener('change', function () {
      const val = this.value;
      const show = val === 'Friend/Referral' || val === 'Other';
      referralExtra.classList.toggle('hidden', !show);
      referralLabel.textContent = val === 'Friend/Referral'
        ? 'If referred by a friend, who?'
        : 'Please specify:';
    });

    // State dropdown logic
    stateSelect.addEventListener('change', function () {
      const show = this.value === 'Other';
      stateOtherInput.classList.toggle('hidden', !show);
      if (show) {
        stateOtherText.setAttribute('required', 'required');
      } else {
        stateOtherText.removeAttribute('required');
        stateOtherText.value = '';
      }
    });

    // Form submission handler
   form.addEventListener('submit', function (e) {
  e.preventDefault();

  // Extract the numeric value from the phone input
  const phoneValue = phoneInput.value.replace(/\D/g, '');

  // Validate phone number length
  if (phoneValue.length !== 10) {
    alert('Please enter a valid 10-digit phone number.');
    phoneInput.focus();
    return;
  }

  const formData = new FormData(form);
  fetch(form.action, {
    method: 'POST',
    body: formData,
    headers: { 'Accept': 'application/json' }
  })
  .then(response => {
    if (response.ok) {
      form.classList.add('hidden');
      successMessage.classList.remove('hidden');
      const offset = document.querySelector('.custom-form-container').getBoundingClientRect().top + window.pageYOffset - 100;
      window.scrollTo({ top: offset, behavior: 'smooth' });
    } else {
      alert('There was a problem submitting your form. Please try again.');
    }
  })
  .catch(() => {
    alert('There was a problem submitting your form. Please try again.');
  });
});

});

</script>


